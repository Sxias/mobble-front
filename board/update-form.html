<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <title>피드 수정 - Mobble</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- 헤더 로고용 폰트 -->
    <link
      href="https://fonts.googleapis.com/css2?family=Quicksand&display=swap"
      rel="stylesheet"
    />

    <!-- 공통 CSS -->
    <link rel="stylesheet" href="/css/common.css" />
    <link rel="stylesheet" href="/css/header.css" />
    <link rel="stylesheet" href="/css/footer.css" />

    <!-- 페이지 전용 CSS -->
    <link rel="stylesheet" href="/css/board-save.css" />

    <!-- Summernote (lite) -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/summernote@0.8.20/dist/summernote-lite.min.css"
    />
  </head>
  <body>
    <header>
      <div class="header-inner">
        <div class="brand">
          <button
            id="navToggle"
            class="nav-trigger hamburger"
            aria-label="사이드 메뉴 열기"
          >
            <span class="line"></span>
          </button>
          <a href="/" class="logo">Mobble</a>
        </div>
        <div class="search-box"><!-- 글쓰기 화면이라 검색창 미노출 --></div>
        <div class="header-actions">
          <button class="btn-publish" type="button" id="btnUpdate">
            Update
          </button>
          <button class="avatar-btn" type="button" aria-label="내 프로필">
            P
          </button>
        </div>
      </div>
    </header>

    <main class="write-wrap">
      <form id="updateForm" action="/boards/1/update" method="post">
        <div id="boardId" value="1" hidden></div>
        <!-- 제목 -->
        <div class="title-wrap">
          <input
            class="title-input"
            type="text"
            name="title"
            placeholder="제목 입력..."
            value="제목1"
            required
          />
        </div>

        <!-- 카테고리 (1개 고정) -->
        <section class="category-wrap">
          <!-- 버튼 텍스트는 고정: Add Category -->
          <button
            type="button"
            class="btn-chip gray"
            id="btnAddCategory"
            aria-expanded="false"
            aria-controls="categoryPicker"
          >
            Add Category
          </button>

          <!-- 선택된 카테고리 보여주는 칩 -->
          <div class="chip-list" id="chipList" aria-live="polite"></div>

          <!-- 더미 카테고리 피커 -->
          <div class="category-picker" id="categoryPicker" hidden>
            <button type="button" class="cat-option">java</button>
            <button type="button" class="cat-option">springboot</button>
            <button type="button" class="cat-option">docker</button>
          </div>

          <!-- 서버 제출용 hidden: 서버값을 미리 채워줌 -->
          <input
            type="hidden"
            name="category"
            id="categoryHidden"
            value="java"
          />
        </section>

        <!-- 에디터 -->
        <section class="editor-wrap">
          <textarea id="editor" name="content">내용1</textarea>
        </section>
      </form>
    </main>

    <footer>
      <div class="footer-inner">© Footer Content</div>
    </footer>

    <!-- 사이드바 스크립트(규칙 2) -->
    <script src="/js/sidebar.js" defer></script>
    <!-- (규칙 3) 글 작성/수정 페이지는 search-clear.js 포함하지 않음 -->
    <!-- 1) jQuery 먼저 -->
    <script
      src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"
      defer
    ></script>
    <!-- 2) Summernote -->
    <link
      href="https://cdn.jsdelivr.net/npm/summernote@0.8.20/dist/summernote-lite.min.css"
      rel="stylesheet"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/summernote@0.8.20/dist/summernote-lite.min.js"
      defer
    ></script>
    <script src="/js/summernote-init.js" defer></script>
    <script src="/js/board-update-category.js" defer></script>
    <script src="/js/board-update.js" defer></script>
  </body>
</html>
